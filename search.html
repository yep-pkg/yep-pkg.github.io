<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YEP - Package Search</title>
<script src="https://cdn.tailwindcss.com"></script>
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    'yep-primary': '#4f46e5',
                    'yep-secondary': '#06b6d4',
                    'yep-accent': '#10b981'
                },
                animation: {
                    'float': 'float 6s ease-in-out infinite',
                    'gradient': 'gradient 15s ease infinite',
                    'pulse-slow': 'pulse 3s ease-in-out infinite',
                }
            }
        }
    }
</script>
<style>
@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
}
@keyframes gradient {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}
.glassmorphism {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}
.gradient-bg {
    background: linear-gradient(-45deg, #4f46e5, #06b6d4, #10b981, #8b5cf6);
    background-size: 400% 400%;
    animation: gradient 15s ease infinite;
}
</style>
</head>
<body class="bg-gray-900 text-white overflow-x-hidden">

<!-- Animated Background -->
<div class="fixed inset-0 z-0">
    <div class="absolute inset-0 gradient-bg opacity-20"></div>
    <div class="absolute top-1/4 left-1/4 w-72 h-72 bg-yep-primary rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse-slow"></div>
    <div class="absolute top-1/3 right-1/4 w-72 h-72 bg-yep-secondary rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse-slow animation-delay-2000"></div>
    <div class="absolute bottom-1/4 left-1/3 w-72 h-72 bg-yep-accent rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse-slow animation-delay-4000"></div>
</div>

<!-- Navigation -->
<nav class="relative z-10 glassmorphism">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center py-6">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 bg-gradient-to-r from-yep-primary to-yep-secondary rounded-lg flex items-center justify-center font-bold text-xl">
                    Y
                </div>
                <span class="text-2xl font-bold bg-gradient-to-r from-yep-primary to-yep-secondary bg-clip-text text-transparent">
                    YEP
                </span>
            </div>
            <div class="hidden md:flex space-x-8">
                <a href="#search" class="hover:text-yep-primary transition-colors duration-300">Search</a>
                <a href="https://github.com/yep-pkg" class="hover:text-yep-primary transition-colors duration-300">GitHub</a>
            </div>
            <div class="md:hidden">
                <button class="text-white hover:text-yep-primary">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>
</nav>

<!-- Hero Section -->
<section class="relative z-10 pt-20 pb-16 text-center">
    <h1 class="text-6xl md:text-8xl font-bold mb-6 bg-gradient-to-r from-yep-primary via-yep-secondary to-yep-accent bg-clip-text text-transparent animate-float">
        YEP Search
    </h1>
    <p class="text-2xl md:text-3xl mb-12 text-gray-300 font-light max-w-3xl mx-auto">
        Instantly find any package in the YEP repository and read its description.
    </p>
    <input id="search-input" type="text" placeholder="Search for a package..." 
        class="w-full sm:w-2/3 md:w-1/2 px-6 py-4 rounded-full glassmorphism text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yep-primary transition-all">
</section>

<!-- Results Section -->
<section id="results" class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20 grid gap-6 md:grid-cols-2 lg:grid-cols-3"></section>

<script>
let packets = [];

// Fetch JSON from GitHub Pages
fetch('https://yep-pkg.github.io/YEP-repo/index.json')
.then(res => res.json())
.then(data => {
    packets = data;
    displayPackets(packets);
})
.catch(err => console.error('Error fetching packets:', err));

const input = document.getElementById('search-input');
const results = document.getElementById('results');

input.addEventListener('input', () => {
    const query = input.value.toLowerCase();
    const filtered = packets.filter(p => 
        p.name.toLowerCase().includes(query) ||
        p.descr.toLowerCase().includes(query) ||
        p.version.toLowerCase().includes(query)
    );
    displayPackets(filtered);
});

function displayPackets(list) {
    if(list.length === 0) {
        results.innerHTML = '<p class="text-gray-400 text-center col-span-full">No packages found.</p>';
        return;
    }
    results.innerHTML = list.map(p => `
        <div class="glassmorphism p-6 rounded-2xl hover:scale-105 transition-transform duration-300">
            <h3 class="text-xl font-bold mb-2 bg-gradient-to-r from-yep-primary to-yep-secondary bg-clip-text text-transparent">
                ${p.name}
            </h3>
            <p class="text-gray-300 mb-2">${p.descr}</p>
            <span class="text-gray-400 text-sm">Version: ${p.version}</span>
        </div>
    `).join('');
}
</script>

</body>
</html>
